{"ast":null,"code":"var _jsxFileName = \"E:\\\\Repos\\\\ignite-aulas\\\\reactjs\\\\Cap2\\\\ignite-template-reactjs-refactoring-classes-ts\\\\src\\\\pages\\\\Dashboard\\\\index.tsx\",\n    _s = $RefreshSig$();\n\nimport { useEffect, useState } from 'react';\nimport Header from '../../components/Header';\nimport api from '../../services/api';\nimport Food from '../../components/Food';\nimport ModalAddFood from '../../components/ModalAddFood';\nimport ModalEditFood from '../../components/ModalEditFood';\nimport { FoodsContainer } from './styles';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst Dashboard = () => {\n  _s();\n\n  const [foods, setFood] = useState([]);\n  const [editingFood, setEditingFood] = useState({});\n  const [modalOpen, setModalOpen] = useState(false);\n  const [editModalOpen, setEditModalOpen] = useState(false);\n  useEffect(() => {\n    api.get('/foods').then(response => setFood(response.data));\n  }, []);\n\n  const handleAddFood = async food => {\n    try {\n      const response = await api.post('/foods', { ...food,\n        available: true\n      });\n      setFood([...foods, response.data]);\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  const handleUpdateFood = async food => {\n    try {\n      const foodUpdated = await api.put(`/foods/${editingFood.id}`, { ...editingFood,\n        ...food\n      });\n      const foodsUpdated = foods.map(f => f.id !== foodUpdated.data.id ? f : foodUpdated.data);\n      setFood(foodsUpdated);\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  const handleDeleteFood = async id => {\n    await api.delete(`/foods/${id}`);\n    const foodsFiltered = foods.filter(food => food.id !== id);\n    setFood(foodsFiltered);\n  };\n\n  const toggleModal = () => {\n    setModalOpen(!modalOpen);\n  };\n\n  const toggleEditModal = () => {\n    setEditModalOpen(!editModalOpen);\n  };\n\n  const handleEditFood = food => {\n    setEditingFood(food);\n    setEditModalOpen(true);\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Header, {\n      openModal: toggleModal\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(ModalAddFood, {\n      isOpen: modalOpen,\n      setIsOpen: toggleModal,\n      handleAddFood: handleAddFood\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(ModalEditFood, {\n      isOpen: editModalOpen,\n      setIsOpen: toggleEditModal,\n      editingFood: editingFood,\n      handleUpdateFood: handleUpdateFood\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(FoodsContainer, {\n      \"data-testid\": \"foods-list\",\n      children: foods && foods.map(food => /*#__PURE__*/_jsxDEV(Food, {\n        food: food,\n        handleDelete: handleDeleteFood,\n        handleEditFood: handleEditFood\n      }, food.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 13\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true);\n};\n\n_s(Dashboard, \"PMs0F6g5z65zn9wbdMdz87zfZ2w=\");\n\n_c = Dashboard;\nexport default Dashboard;\n\nvar _c;\n\n$RefreshReg$(_c, \"Dashboard\");","map":{"version":3,"names":["useEffect","useState","Header","api","Food","ModalAddFood","ModalEditFood","FoodsContainer","Dashboard","foods","setFood","editingFood","setEditingFood","modalOpen","setModalOpen","editModalOpen","setEditModalOpen","get","then","response","data","handleAddFood","food","post","available","err","console","log","handleUpdateFood","foodUpdated","put","id","foodsUpdated","map","f","handleDeleteFood","delete","foodsFiltered","filter","toggleModal","toggleEditModal","handleEditFood"],"sources":["E:/Repos/ignite-aulas/reactjs/Cap2/ignite-template-reactjs-refactoring-classes-ts/src/pages/Dashboard/index.tsx"],"sourcesContent":["import {  useEffect, useState } from 'react';\n\nimport Header from '../../components/Header';\nimport api from '../../services/api';\nimport Food from '../../components/Food';\nimport ModalAddFood from '../../components/ModalAddFood';\nimport ModalEditFood from '../../components/ModalEditFood';\nimport { FoodsContainer } from './styles';\n\ninterface FoodData {\n  id: number,\n  image: string,\n  name: string,\n  description: string,\n  price: number,\n  available: boolean,\n}\nconst  Dashboard =(): JSX.Element => {\n\n  const [foods,setFood] = useState<FoodData[]>([])\n                                     \n  const [editingFood,setEditingFood]=useState<FoodData>({} as FoodData);\n  const [modalOpen,setModalOpen] = useState(false)\n  const [editModalOpen,setEditModalOpen] = useState(false)\n\n  useEffect(()=>{\n    api.get('/foods').then(response=>setFood(response.data))\n  },[])\n\n\n  const handleAddFood = async (food:FoodData) => {\n    try {\n      const response = await api.post('/foods', {\n        ...food,\n        available: true,\n      });\n\n      setFood([...foods, response.data])\n    } catch (err) {\n      console.log(err);\n    }\n  }\n\n  const handleUpdateFood = async (food: FoodData) => {\n    try {\n      const foodUpdated = await api.put(\n        `/foods/${editingFood.id}`,\n        { ...editingFood, ...food },\n      );\n\n      const foodsUpdated = foods.map(f =>\n        f.id !== foodUpdated.data.id ? f : foodUpdated.data,\n      );\n\n      setFood(foodsUpdated);\n    } catch (err) {\n      console.log(err);\n    }\n  }\n  const handleDeleteFood = async (id:number) => {\n    \n\n    await api.delete(`/foods/${id}`);\n\n    const foodsFiltered = foods.filter(food => food.id !== id);\n\n    setFood(foodsFiltered)\n  }\n\n  const toggleModal = () => {\n\n     setModalOpen(!modalOpen)\n  }\n\n const  toggleEditModal = () => {\n    \n\n     setEditModalOpen(!editModalOpen)\n  }\n\n  \n  const handleEditFood = (food:FoodData) => {\n    setEditingFood(food);\n    setEditModalOpen(true)\n    \n  }\n\n\n    return (\n      <>\n        <Header openModal={toggleModal} />\n        <ModalAddFood\n          isOpen={modalOpen}\n          setIsOpen={toggleModal}\n          handleAddFood={handleAddFood}\n        />\n        <ModalEditFood\n          isOpen={editModalOpen}\n          setIsOpen={toggleEditModal}\n          editingFood={editingFood}\n          handleUpdateFood={handleUpdateFood}\n        />\n\n        <FoodsContainer data-testid=\"foods-list\">\n        {foods &&\n          foods.map(food => (\n            <Food\n              key={food.id}\n              food={food}\n              handleDelete={handleDeleteFood}\n              handleEditFood={handleEditFood}\n            />\n          ))}\n        </FoodsContainer>\n      </>\n    );\n  \n};\n\nexport default Dashboard;"],"mappings":"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"},"metadata":{},"sourceType":"module"}